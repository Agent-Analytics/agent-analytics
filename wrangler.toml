name = "agent-analytics"
main = "src/platforms/cloudflare.js"
compatibility_date = "2024-01-01"
account_id = "139518248fb33aa103fcd01dda727d2b"

routes = [
  { pattern = "api.agentanalytics.sh", custom_domain = true }
]

[[d1_databases]]
binding = "DB"
database_name = "agent-analytics"
database_id = "53211172-d64e-4a5f-bbbb-be088e9f1907"

[[queues.producers]]
binding = "ANALYTICS_QUEUE"
queue = "agent-analytics-events"

[[queues.consumers]]
queue = "agent-analytics-events"
max_batch_size = 100
max_batch_timeout = 5

[vars]
ALLOWED_ORIGINS = "https://clawflows.com,http://localhost:3000"

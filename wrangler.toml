name = "agent-analytics"
main = "src/platforms/cloudflare.js"
compatibility_date = "2024-01-01"
# account_id = "YOUR_ACCOUNT_ID"  # Optional: uncomment if wrangler can't auto-detect

[[d1_databases]]
binding = "DB"  # ⚠️ Must stay as "DB" — do not change this
database_name = "agent-analytics"
database_id = "YOUR_DATABASE_ID"  # Replace with your D1 database ID

[vars]
ALLOWED_ORIGINS = "*"

# --- Optional: Queues (requires Workers Paid plan, $5/mo) ---
# Uncomment these for high-traffic sites. Not needed for most use cases.
#
# [[queues.producers]]
# queue = "agent-analytics-events"
# binding = "EVENTS_QUEUE"
#
# [[queues.consumers]]
# queue = "agent-analytics-events"
# max_batch_size = 100
# max_batch_timeout = 5
